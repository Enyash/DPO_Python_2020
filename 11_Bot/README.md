# Описание того, что же тут происходит

Телеграм в Desktop'ной версии без VPN не работает. Поэтому запускать вашего бота можно или через VPN или через proxy.
Например можно попытаться посмотреть описание [тут](https://tlgrm.ru/faq/obhod-blokirovki-telegram.html.)

В файле [2020_DPO_11_0_bot](https://github.com/pileyan/DPO_Python_2020/blob/master/11_Bot/2020_DPO_11_0_bot.ipynb) описан и сделан парсер сайта worldometers. На выходе с помощью вызова функции stat() создается Pandas-dataframe со статистикой по коронавирусу. Аргумент tag = 0 (сегодня) и tag = 1 (вчера) управляет выбором дня, за который собирается статистика.
## Что делает бот?
Когда пользователь запрашивает информацию (задает день, регионы или страны и набор полей, который он хочет просмотреть, бот должен отдавать ему информацию в табличном формате (tabulate в помощь - см.[тут](https://github.com/pileyan/DPO_Python_2020/blob/master/11_Bot/2020_DPO_11_0_bot.ipynb). У бота не должно быть "непонятых команд" - на каждое сообщение у бота есть ответ. Кроме того, если пользователь прекратил диалог с ботом на середине (например, ввел список стран, но не определил день статистики, в следующий раз бот напомнит ему о том, что надо выбрать, страны или регионы.

### Как зарегистрировать нового бота:
Читать [тут](https://tlgrm.ru/docs/bots) или [тут](https://habr.com/en/post/262247/)
## Теперь пройдемся по файлам бота по порядку и разберем, что же в нем происходит
### Файл [config](https://github.com/pileyan/DPO_Python_2020/blob/master/11_Bot/config.py) 
содержит некоторые внутренние характеристики бота (название базы данных - потом посмотрим, зачем это нужно) телеграм-токен этого бота и список возможных статусов, которые упакованы в класс States (Это упорядоченная последовательность уровней взаимодействия с ботом: 
* Старт диалога
* Ввод дня (вчера или сегодня)
* Выбор стран или регионов (в dataframe, как вы помните, лежит и то и другое)
* Выбор списка стран/списка регионов, по которым будет отображена статистика
* Выбор полей, которые хочется увидеть (TotalCases, NewCases и т.д. Все названия достаточно говорящие)



